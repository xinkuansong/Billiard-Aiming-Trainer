# 🚀 微信小程序测试和上架完整指南

## 📋 准备工作清单

### 1. 必需工具
- [ ] 微信开发者工具 (最新版本)
- [ ] 微信小程序账号 (已注册并认证)
- [ ] AppID (小程序唯一标识)

### 2. 项目文件检查
- [ ] app.js, app.json, app.wxss 文件完整
- [ ] 所有页面文件存在 (.js, .wxml, .wxss)
- [ ] project.config.json 配置正确
- [ ] sitemap.json 文件存在

## 🔧 第一步：本地开发环境测试

### 1.1 打开微信开发者工具
1. 下载并安装最新版微信开发者工具
2. 用微信扫码登录
3. 选择"小程序"项目类型

### 1.2 导入项目
1. 点击"导入项目"
2. 选择项目目录：`/home/song/projects/15.ball/app`
3. 输入项目名称：`台球瞄准训练器`
4. 输入AppID（如果没有，先选择"测试号"）

### 1.3 本地模拟器测试
测试以下功能：
- [ ] 页面正常加载
- [ ] 台球桌绘制正常
- [ ] 角度生成器工作
- [ ] 页面跳转功能
- [ ] 数据存储功能

## 📱 第二步：真机预览测试

### 2.1 预览功能
1. 点击工具栏"预览"按钮
2. 扫描二维码
3. 在手机微信中打开小程序

### 2.2 测试重点
- [ ] 触摸交互是否流畅
- [ ] Canvas 绘制是否正常
- [ ] 响应式布局适配
- [ ] 微信登录功能
- [ ] 数据持久化

### 2.3 常见问题排查
- **Canvas 不显示**：检查canvas组件type="2d"
- **登录失败**：确认wx.getUserProfile权限
- **数据丢失**：检查wx.setStorageSync调用

## 🔐 第三步：申请小程序账号

### 3.1 注册流程
1. 访问 https://mp.weixin.qq.com
2. 点击"立即注册"
3. 选择"小程序"
4. 填写账号信息
5. 邮箱验证
6. 信息登记（个人/企业）

### 3.2 获取AppID
1. 登录小程序后台
2. 开发 → 开发设置
3. 复制AppID

### 3.3 配置服务器域名（如果需要）
1. 开发 → 开发设置
2. 服务器域名配置
3. 添加request合法域名

## 📤 第四步：提交审核

### 4.1 完善小程序信息
1. **基本信息设置**
   - 小程序名称：台球瞄准训练器
   - 头像：台球相关图标
   - 介绍：台球瞄准角度练习工具，提升瞄准精度
   - 服务类别：体育 → 体育培训

2. **版本管理**
   - 版本号：1.0.0
   - 版本描述：初始版本，包含基础瞄准练习功能

### 4.2 上传代码
```bash
# 在微信开发者工具中
1. 点击工具栏"上传"
2. 填写版本号：1.0.0
3. 填写项目备注：初始版本发布
4. 点击"上传"
```

### 4.3 提交审核
1. 登录小程序后台
2. 版本管理 → 开发版本
3. 点击"提交审核"
4. 填写审核信息：
   - 功能页面：首页/练习页面
   - 测试账号：无需
   - 补充说明：台球角度练习工具

## ✅ 第五步：发布上线

### 5.1 审核通过后
- 通常1-7个工作日审核完成
- 收到审核通过通知

### 5.2 发布操作
1. 版本管理 → 审核版本
2. 点击"发布"
3. 确认发布

### 5.3 发布后检查
- [ ] 搜索小程序名称能找到
- [ ] 所有功能正常运行
- [ ] 用户反馈收集

## 🎯 测试检查清单

### 功能测试
- [ ] 随机生成球位功能
- [ ] 球袋选择功能
- [ ] 瞄准线显示
- [ ] 角度练习生成器
- [ ] 角度对照表显示
- [ ] 球桌类型切换
- [ ] 用户登录功能
- [ ] 练习数据记录
- [ ] 统计页面显示
- [ ] 成就系统
- [ ] 设置页面功能

### 性能测试
- [ ] 页面加载速度 < 3秒
- [ ] Canvas绘制流畅
- [ ] 内存占用合理
- [ ] 无明显卡顿

### 兼容性测试
- [ ] iOS 微信客户端
- [ ] Android 微信客户端
- [ ] 不同屏幕尺寸
- [ ] 不同微信版本

## 🚨 常见审核被拒原因及解决方案

### 1. 功能描述不清
**问题**：审核员不理解小程序用途
**解决**：完善小程序介绍，说明是台球练习工具

### 2. 缺少必要页面
**问题**：缺少隐私政策、用户协议
**解决**：添加相关页面链接

### 3. 功能不完整
**问题**：部分功能无法正常使用
**解决**：充分测试所有功能

### 4. 内容合规问题
**问题**：包含不当内容
**解决**：检查所有文案和图片

## 📊 发布后运营建议

### 1. 数据监控
- 使用小程序数据助手
- 关注用户留存率
- 监控崩溃率

### 2. 用户反馈
- 设置客服功能
- 收集用户建议
- 及时修复bug

### 3. 版本迭代
- 定期更新功能
- 优化用户体验
- 添加新功能

## 📞 技术支持

### 官方文档
- 微信小程序开发文档：https://developers.weixin.qq.com/miniprogram/dev/
- 审核规范：https://developers.weixin.qq.com/miniprogram/product/

### 开发社区
- 微信开发者社区
- Stack Overflow
- GitHub Issues

---

## 🎉 恭喜！

按照这个指南，你的台球瞄准训练器小程序就能成功上线了！

记住：
- 第一次审核可能会遇到问题，这很正常
- 耐心等待审核结果
- 持续优化用户体验

祝你的小程序成功上线！🚀 